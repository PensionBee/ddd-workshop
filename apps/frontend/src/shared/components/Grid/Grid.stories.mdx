import { Meta, Story, Canvas, ArgsTable } from "@storybook/addon-docs";
import { GridContainer } from "./GridContainer/GridContainer";
import { GridItem } from "./GridItem/GridItem";
import { GridRow } from "./GridRow/GridRow";

<Meta
  title="Shared/Grid/Docs"
  parameters={{
    viewMode: "docs",
    previewTabs: {
      canvas: { hidden: true },
    },
  }}
/>

# Grid

Grid systems are an extremely useful tool for designing and building web pages. [This Figma page](https://www.figma.com/file/UbMTWWt8V2VpwebxOLBCRV/Design-system-atoms?node-id=1898%3A18037&t=UupiupVUOrlBNau4-4) shows the Grid layout that the PensionBee Design team use (if you can't see the grid, check out the `Toggle layout grids` section on [this page](https://help.figma.com/hc/en-us/articles/360040450513-Create-layout-grid-grids-with-grids-columns-and-rows#h_fa39b302-65b2-4cb7-9153-25ddcf76929f)) - Designers use the grid as much as possible to build out the overall layout of a page, so having a set of React components which allow us to easily mimic grid-based designs is very powerful.

The Grid system we use is made up of three component:

- GridContainer
- GridRow
- GridItem

Each section of a page can be implemented using a single `GridContainer` component, which contains one or more `GridRow` components, which each contain one or more `GridItem` components. A `GridContainer` is essentially a box which positions (and restricts) the Grid columns through preconfigured max width, padding and margin definitions. A `GridRow` is essentially a horizontal flex box which can be used to chunk up "rows" within a page section". A `GridItem` is essentially a vertical flex box

At a minimum, each section of a page should contain at least one GridContainer, one GridRow and one GridItem, e.g.

```jsx
<GridContainer>
  <GridRow>
    <GridItem>...</GridItem>
  </GridRow>
</GridContainer>
```

...But may contain more Grid components depending on how complex the section is, e.g.

```jsx
<GridContainer>
  <GridRow>
    <GridItem>...</GridItem>
    <GridItem>...</GridItem>
  </GridRow>
  <GridRow>
    <GridItem>...</GridItem>
    <GridItem>...</GridItem>
    <GridItem>...</GridItem>
  </GridRow>
</GridContainer>
```

## Grid Props

<ArgsTable
  components={{
    GridContainer: GridContainer,
    GridRow: GridRow,
    GridItem: GridItem,
  }}
/>

## Usage & Customisation

### Column Span

The _span_ prop on the `GridItem` component is one of the two main configuration options for laying out components on the Grid (the other being _offset_ which is covered below). The _span_ props allows you to specify the number of Grid columns a `GridItem` should stretch over, and should be used where an element clearly lines up with the Grid columns on the design.

A note about the max span at various breakpoints:

- On mobile (xs and sm breakpoints), the max span is 4, in line with the 4 columns Design use to design mobile layouts
- On tablet (md breakpoint), the max span is 8, in line with the 8 columns Design use to design tablet layouts
- On desktop (lg and xl breakpoints), the max span is 12, in line with the 12 columns Design use to design desktop layouts

Note that a `GridItem` will occupy all columns in a row by default, so adding multiple `GridItem` components to a `GridRow` without configuring their span properties will result in all but the first `GridItem` overflowing the `GridRow`.

<Canvas>
  <Story id="shared-grid-item--item-span" />
</Canvas>

### Column Offset

The _offset_ prop on the `GridItem` component is the second main configuration option for laying out components on the Grid (the other being _offset_ which is covered below). The _span_ props allows you to specify the number of Grid columns a `GridItem` should stretch over, and should be used where an element clearly lines up with the Grid columns on the design.

A note about the max offset at various breakpoints:

- On mobile (xs and sm breakpoints), the max offset is 3
- On tablet (md breakpoint), the max offset is 7
- On desktop (lg and xl breakpoints), the max offset is 11

<Canvas>
  <Story id="shared-grid-item--item-offset" />
</Canvas>

### Horizontal Alignment

### Centered Content

It's relatively common that the Design team will center a single piece of content (a heading for example) in a row without necessarily aligning it to the columns in the grid. We can make use of the `align` property on a single `GridItem` component to position something in the center of the screen (note that we still need to wrap the `GridItem` in `GridContainer` and `GridRow` components)

<Canvas>
  <Story id="shared-grid-row--row-centered" />
</Canvas>

### Vertical Alignment

Content within a row can also be top/center/bottom aligned if needed. This is likely NOT needed in most cases but can be useful if a design has multiple elements of different heights in the same row which have specific alignment requirements. Note that the alignment is set on the `GridRow` itself.

#### Top

<Canvas>
  <Story id="shared-grid-row--row-align-start" />
</Canvas>

#### Center

<Canvas>
  <Story id="shared-grid-row--row-align-center" />
</Canvas>

#### Bottom

<Canvas>
  <Story id="shared-grid-row--row-align-end" />
</Canvas>

### Row Gap

When content in a row wraps onto a new line on smaller devices, it's normally helpful to set the vertical distance between the wrapped elements by customising the `rowGap` prop on `GridRow`. This ensures that the spacing only applies between wrapped elements, and only when wrapping actually occurs.

<Canvas>
  <Story id="shared-grid-row--row-gap" />
</Canvas>
